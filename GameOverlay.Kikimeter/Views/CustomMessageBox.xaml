<Window x:Class="GameOverlay.Kikimeter.Views.CustomMessageBox"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        mc:Ignorable="d"
        Title="Message"
        Height="200"
        Width="500"
        WindowStartupLocation="CenterOwner" 
        ResizeMode="NoResize" 
        Topmost="True"
        ShowInTaskbar="False"
        WindowStyle="None"
        AllowsTransparency="True"
        MinWidth="400"
        MinHeight="150">
    <Window.Resources>
        <ImageBrush x:Key="WindowBackgroundBrush" ImageSource="/EndTurnWidgetBackground.png" Stretch="Fill"/>
        <SolidColorBrush x:Key="CyanAccentBrush" Color="#FF6E5C2A" />
        <SolidColorBrush x:Key="SectionBackgroundBrush" Color="#80000000" />
        <Style x:Key="DialogButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#DDFFEB99" />
            <Setter Property="Foreground" Value="{DynamicResource CyanAccentBrush}" />
            <Setter Property="BorderBrush" Value="{DynamicResource CyanAccentBrush}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="10,5" />
            <Setter Property="Margin" Value="0" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="FontSize" Value="11" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="FocusVisualStyle" Value="{x:Null}" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="BorderBrush" Value="#FFFFFFFF" />
                    <Setter Property="Background" Value="#EEFFEB99" />
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Opacity" Value="0.5" />
                    <Setter Property="Cursor" Value="Arrow" />
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>
    <Window.Background>
        <ImageBrush ImageSource="/GameOverlay.Kikimeter;component/Views/EndTurnWidgetBackground.png" Stretch="Fill"/>
    </Window.Background>
    <Border
            BorderThickness="1"
            BorderBrush="#FF6E5C2A"
            CornerRadius="10"
            Padding="0"
            SnapsToDevicePixels="True"
            MouseLeftButtonDown="Border_MouseLeftButtonDown">
        <Grid x:Name="MainGrid" Background="{DynamicResource WindowBackgroundBrush}">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- En-tÃªte avec titre -->
            <Grid Grid.Row="0" Margin="15,10,15,10" MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock x:Name="TitleTextBlock"
                           Grid.Column="0"
                           Text="Message"
                           FontSize="18"
                           FontWeight="Bold"
                           Foreground="#FF4E421F"
                           VerticalAlignment="Center"
                           HorizontalAlignment="Center"
                           Margin="0,0,40,0"/>
                <Image Grid.Column="1"
                       Source="/GameOverlay.Kikimeter;component/Views/Assets/utilities/fermeture.png"
                       Width="28"
                       Height="28"
                       VerticalAlignment="Center"
                       HorizontalAlignment="Right"
                       Cursor="Hand"
                       MouseLeftButtonDown="CloseButton_Click"
                       Stretch="Uniform" Margin="0,5,0,0"/>
            </Grid>

            <!-- Contenu du message -->
            <Border Grid.Row="1"
                    BorderBrush="#FF6E5C2A"
                    BorderThickness="1"
                    CornerRadius="4"
                    Margin="15,0,15,15"
                    Background="#DDFFEB99"
                    Padding="15">
                <ScrollViewer VerticalScrollBarVisibility="Auto"
                              HorizontalScrollBarVisibility="Disabled">
                    <StackPanel>
                        <TextBlock x:Name="MessageTextBlock"
                                   TextWrapping="Wrap"
                                   Foreground="#FF4E421F"
                                   FontSize="14"
                                   HorizontalAlignment="Stretch"
                                   TextAlignment="Left"/>
                    </StackPanel>
                </ScrollViewer>
            </Border>

            <!-- Boutons -->
            <StackPanel Grid.Row="2"
                       Orientation="Horizontal"
                       HorizontalAlignment="Center"
                       Margin="0,0,0,15">
                <Button x:Name="YesButton"
                       Content="Oui"
                       Width="100"
                       Height="35"
                       Click="YesButton_Click"
                       Margin="5,0"
                       Style="{StaticResource DialogButtonStyle}"
                       Visibility="Collapsed"/>
                <Button x:Name="NoButton"
                       Content="Non"
                       Width="100"
                       Height="35"
                       Click="NoButton_Click"
                       Margin="5,0"
                       Style="{StaticResource DialogButtonStyle}"
                       Visibility="Collapsed"/>
                <Button x:Name="OkButton"
                       Content="OK"
                       Width="100"
                       Height="35"
                       Click="OkButton_Click"
                       Margin="5,0"
                       Style="{StaticResource DialogButtonStyle}"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>

